{% load i18n %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% trans "Portafolio" %}{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Fondo general y color de texto base */
        body { background-color: #38761d; color: #ffd966; }
        
        /* Navbar con el mismo verde de fondo */
        .navbar { background-color: #38761d; }

        /* Estilo específico para el texto HOME */
        .navbar-brand { 
            color: #ffd966 !important; 
            font-weight: bold; /* Opcional: para que resalte más */
            transition: opacity 0.3s ease;
        }

        /* Efecto opcional al pasar el mouse por HOME */
        .navbar-brand:hover {
            color: #ffd966;
            opacity: 0.8;
        }

        /* Ajuste para que el selector de idioma combine mejor */
        .form-select-sm {
            background-color: #38761d !important;
            color: #ffd966 !important;
            border-color: #ffd966 !important;
        }

        /* Asegura que el body use todo el alto de la pantalla */
        html, body {
            height: 100%;
        }

        body {
            display: flex;
            flex-direction: column;
        }

        /* El main crece para empujar al footer hacia abajo */
        main {
            flex: 1 0 auto;
        }

        footer {
            background-color: #38761d;
            border-top: 1px solid rgba(255, 217, 102, 0.2); /* Una línea sutil amarilla */
            flex-shrink: 0;
        }

        footer .navbar-brand {
            color: #ffd966 !important;
            font-weight: bold;
        }

        footer .nav-link {
            font-size: 0.9rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        footer .nav-link:hover {
            color: #ffd966 !important;
        }

        /* Estilo del select en el footer */
        .footer-select {
            background-color: transparent !important;
            color: #ffd966 !important;
            border: 1px solid #ffd966 !important;
            font-size: 0.8rem;
        }
     </style>
</head>
<body>

    <nav class="navbar navbar-dark mb-4">
        <div class="container">
            {% if request.resolver_match.url_name != 'home' %}
                <div class="d-flex align-items-center">
                    <a class="navbar-brand me-4" href="{% url 'home' %}">{% trans "HOME" %}</a>
                    <div class="navbar-nav d-flex flex-row gap-3">
                        <a class="nav-link text-white" href="{% url 'categoria_detalle' 'realizador' %}">{% trans "REALIZADOR" %}</a>
                        <a class="nav-link text-white" href="{% url 'categoria_detalle' 'postproductor' %}">{% trans "POSTPRODUCTOR" %}</a>
                        <a class="nav-link text-white" href="{% url 'categoria_detalle' 'director-de-fotografia' %}">{% trans "DIRECTOR DE FOTOGRAFÍA" %}</a>
                    </div>
                </div>
            {% else %}
                <div></div>
            {% endif %}

            <form action="{% url 'set_language' %}" method="post" class="d-flex align-items-center">
                {% csrf_token %}
                <select name="language" onchange="this.form.submit()" class="form-select form-select-sm">
                    {% get_current_language as LANGUAGE_CODE %}
                    {% get_available_languages as LANGUAGES %}
                    {% for lang in LANGUAGES %}
                        <option value="{{ lang.0 }}" {% if lang.0 == LANGUAGE_CODE %}selected{% endif %}>
                            {{ lang.1 }}
                        </option>
                    {% endfor %}
                </select>
            </form>
        </div>
    </nav>

    <main class="container">
        {% block content %}
        {% endblock %}
    </main>
    {% if request.resolver_match.url_name != 'home' %}
    <footer class="navbar navbar-dark py-3 mt-5">
        <div class="container">
            <div class="d-flex align-items-center">
                <a class="navbar-brand me-4" href="{% url 'home' %}" style="font-size: 1rem;">{% trans "HOME" %}</a>
                <div class="navbar-nav d-flex flex-row gap-3">
                    <a class="nav-link text-white" href="{% url 'categoria_detalle' 'realizador' %}">{% trans "REALIZADOR" %}</a>
                    <a class="nav-link text-white" href="{% url 'categoria_detalle' 'postproductor' %}">{% trans "POSTPRODUCTOR" %}</a>
                    <a class="nav-link text-white" href="{% url 'categoria_detalle' 'director-de-fotografia' %}">{% trans "DIRECTOR DE FOTOGRAFÍA" %}</a>
                </div>
            </div>

            <span class="text-warning small">
                © 2026 {% trans "Joaco Portafolio" %}
            </span>
        </div>
    </footer>
    {% endif %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>